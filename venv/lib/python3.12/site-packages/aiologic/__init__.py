#!/usr/bin/env python3

# SPDX-FileCopyrightText: 2024 Ilya Egorov <0x42005e1f@gmail.com>
# SPDX-License-Identifier: ISC

from . import lowlevel  # noqa: F401
from ._barrier import Barrier as Barrier
from ._barrier import BrokenBarrierError as BrokenBarrierError
from ._barrier import Latch as Latch
from ._condition import Condition as Condition
from ._event import CountdownEvent as CountdownEvent
from ._event import Event as Event
from ._event import REvent as REvent
from ._guard import BusyResourceError as BusyResourceError
from ._guard import ResourceGuard as ResourceGuard
from ._limiter import CapacityLimiter as CapacityLimiter
from ._limiter import RCapacityLimiter as RCapacityLimiter
from ._lock import Lock as Lock
from ._lock import PLock as PLock
from ._lock import RLock as RLock
from ._queue import LifoQueue as LifoQueue
from ._queue import PriorityQueue as PriorityQueue
from ._queue import Queue as Queue
from ._queue import QueueEmpty as QueueEmpty
from ._queue import QueueFull as QueueFull
from ._queue import SimpleQueue as SimpleQueue
from ._semaphore import BoundedSemaphore as BoundedSemaphore
from ._semaphore import Semaphore as Semaphore

# modify __module__ for shorter repr() and better pickle support
for __value in list(globals().values()):
    if getattr(__value, "__module__", "").startswith(f"{__name__}."):
        try:
            __value.__module__ = __name__
        except AttributeError:
            pass

    del __value
